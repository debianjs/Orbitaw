local player = game.Players.LocalPlayer
local mouse = player:GetMouse()
local character = player.Character or player.CharacterAdded:Wait()
local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

local UserInputService = game:GetService("UserInputService")
local teleportEnabled = true
local cooldown = 0.5
local lastTeleport = 0

local function createVisualEffect(position)
    local part = Instance.new("Part")
    part.Name = "TeleportEffect"
    part.Anchored = true
    part.CanCollide = false
    part.Size = Vector3.new(2, 0.2, 2)
    part.Position = position
    part.BrickColor = BrickColor.new("Cyan")
    part.Material = Enum.Material.Neon
    part.Transparency = 0.5
    part.Shape = Enum.PartType.Cylinder
    part.Parent = workspace
    game:GetService("Debris"):AddItem(part, 0.5)
    
    spawn(function()
        for i = 1, 10 do
            part.Transparency = part.Transparency + 0.05
            part.Size = part.Size + Vector3.new(0.3, 0, 0.3)
            wait(0.05)
        end
    end)
end

local function teleportToPosition(targetPosition)
    if not character or not humanoidRootPart then
        character = player.Character or player.CharacterAdded:Wait()
        humanoidRootPart = character:WaitForChild("HumanoidRootPart")
    end
    
    local currentTime = tick()
    if currentTime - lastTeleport < cooldown then
        return
    end
    lastTeleport = currentTime
    
    createVisualEffect(humanoidRootPart.Position)
    humanoidRootPart.CFrame = CFrame.new(targetPosition + Vector3.new(0, 3, 0))
    createVisualEffect(targetPosition)
end

mouse.Button1Down:Connect(function()
    if teleportEnabled and mouse.Hit then
        teleportToPosition(mouse.Hit.Position)
    end
end)

UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if gameProcessed then return end
    if input.KeyCode == Enum.KeyCode.T then
        teleportEnabled = not teleportEnabled
        game.StarterGui:SetCore("SendNotification", {
            Title = "Teleport Script",
            Text = teleportEnabled and "Teleport Activado" or "Teleport Desactivado",
            Duration = 2
        })
    end
end)

game.StarterGui:SetCore("SendNotification", {
    Title = "Teleport Script Cargado",
    Text = "Click para teletransportarte | Presiona T para activar/desactivar",
    Duration = 5
})

print("Script de teletransporte cargado exitosamente!")

local Players = game:GetService("Players")
local player = Players.LocalPlayer

local function onCharacterAdded(character)
    local humanoid = character:WaitForChild("Humanoid")
    local walkAnimation = Instance.new("Animation")
    walkAnimation.AnimationId = "rbxassetid://126694551967959"
    
    local animator = humanoid:FindFirstChildOfClass("Animator")
    if not animator then
        animator = Instance.new("Animator")
        animator.Parent = humanoid
    end
    
    local walkAnimTrack = animator:LoadAnimation(walkAnimation)
    walkAnimTrack.Priority = Enum.AnimationPriority.Movement
    
    humanoid.Running:Connect(function(speed)
        if speed > 0 then
            if not walkAnimTrack.IsPlaying then
                walkAnimTrack:Play()
            end
        else
            if walkAnimTrack.IsPlaying then
                walkAnimTrack:Stop()
            end
        end
    end)
end

player.CharacterAdded:Connect(onCharacterAdded)
if player.Character then
    onCharacterAdded(player.Character)
end
